<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 650 420" width="650" height="420">
  <defs>
    <style>
      .title { font: 14px "IBM Plex Mono", Menlo, monospace; fill: #ffffff; }
      .label { font: 13px "IBM Plex Sans", "Helvetica Neue", Arial, sans-serif; fill: #d9d9d9; }
      .cell { font: 13px "IBM Plex Mono", Menlo, monospace; fill: #ffffff; }
      .table-outline { fill: #1b1c26; stroke: #51535f; stroke-width: 1; }
      .header { fill: #32343e; }
      .grid { stroke: #3b3d4a; stroke-width: 1; }
      .window { fill: #e289a4; opacity: 0.35; }
      .current { fill: none; stroke: #0cc0df; stroke-width: 2; }
      .pointer { fill: #0cc0df; }
      .link-line { stroke: #0cc0df; stroke-width: 2; fill: none; }
      .note { font: 12px "IBM Plex Sans", "Helvetica Neue", Arial, sans-serif; fill: #b1b5d3; }
      .partition-box { fill: #1b1c26; stroke: #51535f; stroke-width: 1; }
      .partition-header { fill: #32343e; }
      .partition-label { font: 13px "IBM Plex Mono", Menlo, monospace; fill: #ffffff; }
      .partition-count { font: 12px "IBM Plex Sans", "Helvetica Neue", Arial, sans-serif; fill: #b1b5d3; }
      .connector { stroke: #0cc0df; stroke-width: 2; stroke-dasharray: 4 2; fill: none; opacity: 0.6; }
      .designated-badge { fill: #e289a4; }
      .badge-text { font: 10px "IBM Plex Sans", "Helvetica Neue", Arial, sans-serif; fill: #ffffff; }
    </style>
    <marker id="link-arrow" markerWidth="10" markerHeight="8" refX="9" refY="4" orient="auto" markerUnits="strokeWidth">
      <polygon points="0,0 10,4 0,8" fill="#0cc0df"/>
    </marker>
  </defs>

  <!-- Title -->
  <text class="title" x="60" y="28">
    CREATE TABLE trades (
    <tspan x="60" dy="18">  ts <tspan fill="#e289a4">TIMESTAMP</tspan>, symbol SYMBOL, price DOUBLE, amount DOUBLE</tspan>
    <tspan x="60" dy="18">) <tspan fill="#e289a4">TIMESTAMP(ts)</tspan> PARTITION BY DAY;</tspan>
  </text>
  <text class="note" x="60" y="90">Designated timestamp determines partition placement for each row.</text>

  <!-- Left table: trades -->
  <rect class="table-outline" x="60" y="110" width="380" height="196"/>
  <rect class="header" x="60" y="110" width="380" height="36"/>
  <line class="grid" x1="160" y1="110" x2="160" y2="306"/>
  <line class="grid" x1="240" y1="110" x2="240" y2="306"/>
  <line class="grid" x1="310" y1="110" x2="310" y2="306"/>
  <line class="grid" x1="60" y1="146" x2="440" y2="146"/>
  <line class="grid" x1="60" y1="178" x2="440" y2="178"/>
  <line class="grid" x1="60" y1="210" x2="440" y2="210"/>
  <line class="grid" x1="60" y1="242" x2="440" y2="242"/>
  <line class="grid" x1="60" y1="274" x2="440" y2="274"/>

  <!-- Designated badge on ts column -->
  <rect class="designated-badge" x="72" y="118" width="76" height="20" rx="3"/>
  <text class="badge-text" x="110" y="132" text-anchor="middle">DESIGNATED</text>

  <text class="label" x="110" y="144" text-anchor="middle">ts</text>
  <text class="label" x="200" y="132" text-anchor="middle">symbol</text>
  <text class="label" x="275" y="132" text-anchor="middle">price</text>
  <text class="label" x="375" y="132" text-anchor="middle">amount</text>

  <text class="cell" x="72" y="167">01-01 09:00</text>
  <text class="cell" x="200" y="167" text-anchor="middle">BTC</text>
  <text class="cell" x="275" y="167" text-anchor="middle">42000</text>
  <text class="cell" x="375" y="167" text-anchor="middle">1.5</text>

  <text class="cell" x="72" y="199">01-01 09:01</text>
  <text class="cell" x="200" y="199" text-anchor="middle">ETH</text>
  <text class="cell" x="275" y="199" text-anchor="middle">2200</text>
  <text class="cell" x="375" y="199" text-anchor="middle">10.0</text>

  <text class="cell" x="72" y="231">01-02 10:15</text>
  <text class="cell" x="200" y="231" text-anchor="middle">BTC</text>
  <text class="cell" x="275" y="231" text-anchor="middle">42500</text>
  <text class="cell" x="375" y="231" text-anchor="middle">2.0</text>

  <text class="cell" x="72" y="263">01-02 14:30</text>
  <text class="cell" x="200" y="263" text-anchor="middle">ETH</text>
  <text class="cell" x="275" y="263" text-anchor="middle">2250</text>
  <text class="cell" x="375" y="263" text-anchor="middle">5.0</text>

  <text class="cell" x="72" y="295">01-03 08:45</text>
  <text class="cell" x="200" y="295" text-anchor="middle">BTC</text>
  <text class="cell" x="275" y="295" text-anchor="middle">43000</text>
  <text class="cell" x="375" y="295" text-anchor="middle">0.5</text>

  <!-- Window highlight on left table -->
  <rect class="window" x="60" y="146" width="380" height="32">
    <animate attributeName="y" dur="10s" repeatCount="indefinite" calcMode="discrete"
      values="146;146;178;178;210;210;242;242;274;274"/>
  </rect>

  <!-- Current row outline + pointer -->
  <rect class="current" x="60" y="146" width="380" height="32">
    <animateTransform attributeName="transform" type="translate" dur="10s" repeatCount="indefinite" calcMode="discrete"
      values="0 0;0 0;0 32;0 32;0 64;0 64;0 96;0 96;0 128;0 128"/>
  </rect>
  <polygon class="pointer" points="44,162 54,156 54,168">
    <animateTransform attributeName="transform" type="translate" dur="10s" repeatCount="indefinite" calcMode="discrete"
      values="0 0;0 0;0 32;0 32;0 64;0 64;0 96;0 96;0 128;0 128"/>
  </polygon>

  <!-- On disk label -->
  <text class="note" x="325" y="340" text-anchor="middle">On disk: partitioned by DAY</text>

  <!-- Animated connectors from rows to partitions -->
  <!-- Connector to Partition 1 (01-01) -->
  <line class="connector" x1="110" y1="310" x2="110" y2="360" marker-end="url(#link-arrow)" opacity="0">
    <animate attributeName="opacity" dur="10s" repeatCount="indefinite" calcMode="discrete"
      values="0.6;0.6;0.6;0.6;0;0;0;0;0;0"/>
  </line>

  <!-- Connector to Partition 2 (01-02) -->
  <line class="connector" x1="250" y1="310" x2="280" y2="360" marker-end="url(#link-arrow)" opacity="0">
    <animate attributeName="opacity" dur="10s" repeatCount="indefinite" calcMode="discrete"
      values="0;0;0;0;0.6;0.6;0.6;0.6;0;0"/>
  </line>

  <!-- Connector to Partition 3 (01-03) -->
  <line class="connector" x1="375" y1="310" x2="450" y2="360" marker-end="url(#link-arrow)" opacity="0">
    <animate attributeName="opacity" dur="10s" repeatCount="indefinite" calcMode="discrete"
      values="0;0;0;0;0;0;0;0;0.6;0.6"/>
  </line>

  <!-- Partition 1: 2024-01-01 -->
  <g opacity="0">
    <animate attributeName="opacity" dur="10s" repeatCount="indefinite" calcMode="discrete"
      values="0;1;1;1;1;1;1;1;1;1"/>
    <rect class="partition-box" x="55" y="370" width="120" height="44"/>
    <rect class="partition-header" x="55" y="370" width="120" height="24"/>
    <text class="partition-label" x="115" y="387" text-anchor="middle">2024-01-01/</text>
    <text class="partition-count" x="115" y="406" text-anchor="middle">
      <animate attributeName="opacity" dur="10s" repeatCount="indefinite" calcMode="discrete"
        values="0;1;0;0;0;0;0;0;0;0"/>
      1 row
    </text>
    <text class="partition-count" x="115" y="406" text-anchor="middle">
      <animate attributeName="opacity" dur="10s" repeatCount="indefinite" calcMode="discrete"
        values="0;0;1;1;1;1;1;1;1;1"/>
      2 rows
    </text>
  </g>

  <!-- Partition 2: 2024-01-02 -->
  <g opacity="0">
    <animate attributeName="opacity" dur="10s" repeatCount="indefinite" calcMode="discrete"
      values="0;0;0;0;0;1;1;1;1;1"/>
    <rect class="partition-box" x="220" y="370" width="120" height="44"/>
    <rect class="partition-header" x="220" y="370" width="120" height="24"/>
    <text class="partition-label" x="280" y="387" text-anchor="middle">2024-01-02/</text>
    <text class="partition-count" x="280" y="406" text-anchor="middle">
      <animate attributeName="opacity" dur="10s" repeatCount="indefinite" calcMode="discrete"
        values="0;0;0;0;0;1;0;0;0;0"/>
      1 row
    </text>
    <text class="partition-count" x="280" y="406" text-anchor="middle">
      <animate attributeName="opacity" dur="10s" repeatCount="indefinite" calcMode="discrete"
        values="0;0;0;0;0;0;1;1;1;1"/>
      2 rows
    </text>
  </g>

  <!-- Partition 3: 2024-01-03 -->
  <g opacity="0">
    <animate attributeName="opacity" dur="10s" repeatCount="indefinite" calcMode="discrete"
      values="0;0;0;0;0;0;0;0;0;1"/>
    <rect class="partition-box" x="385" y="370" width="120" height="44"/>
    <rect class="partition-header" x="385" y="370" width="120" height="24"/>
    <text class="partition-label" x="445" y="387" text-anchor="middle">2024-01-03/</text>
    <text class="partition-count" x="445" y="406" text-anchor="middle">1 row</text>
  </g>
</svg>
